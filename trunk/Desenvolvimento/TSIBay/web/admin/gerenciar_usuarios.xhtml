
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:uri="http://primefaces.prime.com.tr/ui">
    <div id="principal">
        <h:form id="form">  

            <p:growl id="message" showDetail="true"/>  
            <p:dataTable var="pessoa" value="#{listagemUsuariosBean.pessoas}" selection="#{listagemUsuariosBean.selectedPessoa}" editable="true" rowKey="#{pessoa.nome}" paginator="true" rows="10"  selectionMode="single" id="pessoaTable">  
                <p:ajax event="rowSelect" update=":form" /> 


                <p:column headerText="id">  
                    <h:outputText value="#{pessoa.id}" />  
                </p:column>  

                <p:column headerText="Nome">  
                    <h:outputText value="#{pessoa.nome}" />  
                </p:column>  

                <p:column headerText="CPF">  
                    <h:outputText value="#{pessoa.cpf}" />   
                </p:column> 

                <p:column headerText="Email">  
                    <h:outputText value="#{pessoa.email}" />   
                </p:column> 

                <p:column headerText="Tipo">  
                    <h:outputText value="#{pessoa.tipo}" />   
                </p:column> 

                <p:column headerText="Login">  
                    <h:outputText value="#{pessoa.login}" />   
                </p:column> 

                <p:column headerText="Data Nasc.">  
                    <h:outputText value="#{pessoa.dtNascimento}" />   
                </p:column> 

                <p:column headerText="Data Cad.">  
                    <h:outputText value="#{pessoa.dtCadastro}" />   
                </p:column>  

                <p:column headerText="Excluir" style="width:4%"> 
                    <p:commandButton id="viewButton2" icon="icn_trash" oncomplete="pessoaDelete.show()"/> 
                </p:column> 

            </p:dataTable> 

            <p:confirmDialog id="dialog" message="Deseja excluir este registro?"  
                             header="Deletar registro" severity="alert" widgetVar="pessoaDelete"> 
                <p:commandButton value="Sim" style="margin-left: 25px;" actionListener="#{listagemUsuariosBean.deletePessoa}" oncomplete="pessoaDelete.hide(); #{listagemUsuariosBean.pessoas}"/>
                <p:commandButton value="NÃ£o" onclick="pessoaDelete.hide()" style="margin-left: 40px;"/>
            </p:confirmDialog>

        </h:form> 
    </div>
</ui:composition>


