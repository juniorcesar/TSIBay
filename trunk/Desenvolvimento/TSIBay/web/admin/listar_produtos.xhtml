<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:uri="http://primefaces.prime.com.tr/ui"
                xmlns:c="http://java.sun.com/jsp/jstl/core">
    <c:if test="#{loginBean.loggedIn}">
    <div id="principal">
        <h:form id="form">  
            <p:panel id="lista_produtos" header="Listagem de Produtos"> 
                <p:dataTable var="produto" value="#{listarProdutos.produtos}" selection="#{listarProdutos.produtoSelecionado}" editable="true" rowKey="#{classe.id}" paginator="true" rows="10" liveScroll="true" scrollable="true" selectionMode="single" id="classeTable">  
                    <p:ajax event="rowSelect" update=":form" />  

                    <p:column headerText="id">  
                        <h:outputText value="#{produto.id}" />  
                    </p:column>  

                    <p:column headerText="Nome">  
                        <h:outputText value="#{produto.nome}" id="name"/>  
                    </p:column>  
                   
                    <p:column headerText="Familia">  
                        <h:outputText value="#{produto.familia.nome}" id="familia"/>  
                    </p:column>  
                    
                      <p:column headerText="Fabricante">  
                          <h:outputText value="#{produto.fabricante}" id="fabricante"/>  
                    </p:column> 
                    
                    <p:column headerText="Descrição">  
                          <h:outputText value="#{produto.fabricante}" id="descricao"/>  
                    </p:column> 

                    <p:column headerText="Editar" style="width:6%">  
                        <p:commandButton id="viewButton" icon="icn_edit_article"  
                                         update=":form" oncomplete="classeEdit.show()"/> 
                    </p:column>  

                    <p:column headerText="Excluir" style="width:4%"> 
                        <p:commandButton id="viewButton2" icon="icn_trash" oncomplete="classeDelete.show()"/> 
                    </p:column>  

                </p:dataTable> 
                <p:confirmDialog id="dialog" message="Deseja excluir este registro?"  
                                 header="Deletar registro" severity="alert" widgetVar="classeDelete"> 
                    <p:commandButton value="Sim" style="margin-left: 25px;" actionListener="#{listarProdutos.removeProduto()}" oncomplete="classeDelete.hide(); #{listarTurmas.turmas}"/>
                    <p:commandButton value="Não" onclick="classeDelete.hide()" style="margin-left: 40px;"/>
                </p:confirmDialog>

            </p:panel>

        </h:form> 
    </div>
    </c:if>
</ui:composition>

